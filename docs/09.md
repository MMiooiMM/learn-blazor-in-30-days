你以為這樣就結束了嗎？你不好奇這邊的 `Counter` 類型從哪裡來嗎？我們可以透過開發工具，也就是滑鼠滑過去看，你會發現是 `你的專案名稱.Pages.Counter` 這個類型，但我們並沒有定義這個類型呀。

其實每一個 `razor` 檔都會依照應用程式的專案名稱與資料夾組合而成的命名空間，並以檔案名稱當作類型名稱，所以 `Counter.razor` 有著 `你的專案名稱.Pages` 命名空間與 `你的專案名稱.Pages.Counter` 類型。

而 Blazor 其實可以讓我們分割檔案，將邏輯放到 `.razor.cs` 檔案中，所以我們可以在 `Pages` 目錄下新增一個 `Counter.razor.cs` 檔案。

可以看到新增完馬上出現紅字。

![https://raw.githubusercontent.com/MMiooiMM/learn-blazor-in-30-days/master/figures/09/razor-has-class.jpg](https://raw.githubusercontent.com/MMiooiMM/learn-blazor-in-30-days/master/figures/09/razor-has-class.jpg)

因為剛剛提到的 `razor` 也包含了類型，但屬於部分類型，所以只需要添加部分類型關鍵字 `partial` 即可：

```csharp
// Counter.razor.cs
public partial class Counter
```

這邊要補充一下 Razor 檔案首字母一定要大寫！若不小心新增檔案時以小寫開頭，那麼專案會直接建置失敗！

然後將 `.razor` 檔案的邏輯放到 `.razor.cs` 檔案中就可以實現畫面與邏輯分離囉！

最終結果為：

```csharp
// Counter.razor.cs
public partial class Counter {
  private int currentCount = 0;
  private void IncrementCount() {
    currentCount++;
    logger.LogInformation(currentCount.ToString());
  }
}
```

這邊要注意的一點是，`_Imports.razor` 檔案中的 `@using` 指示詞只會套用至 `.razor` 檔案，而 `.razor.cs` 檔案是吃不到的。所以我們需要 `using Microsoft.Extensions.Logging;` 來讓 `logger` 的 `LogInformation` 被找到。

---

參考來源
[建立和使用 ASP.NET Core Razor 元件]

[建立和使用 ASP.NET Core Razor 元件]: https://docs.microsoft.com/zh-tw/aspnet/core/blazor/components/?view=aspnetcore-3.1#namespaces